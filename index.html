<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Aplicativo de clima moderno com previs√£o atual, por hora e semanal. Pesquise cidades ou use sua localiza√ß√£o.">
    <meta name="keywords" content="clima, tempo, previs√£o, meteorologia, weather">
    <title>Weather App - Previs√£o do Tempo Moderna</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Leaflet CSS & JS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

    <!-- Stylesheet -->
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1 id="headerCityName">üå§Ô∏è Weather App BR</h1>
            <p id="headerMessage">Previs√£o do tempo em tempo real</p>
        </header>

        <!-- SVG Gradients -->
        <svg style="width:0; height:0; position:absolute;" aria-hidden="true" focusable="false">
            <defs>
                <linearGradient id="uvGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                    <stop offset="0%" stop-color="#4ade80" />
                    <stop offset="30%" stop-color="#fbbf24" />
                    <stop offset="60%" stop-color="#f87171" />
                    <stop offset="100%" stop-color="#c084fc" />
                </linearGradient>
            </defs>
        </svg>

        <!-- Search Section -->
        <section class="search-section">
            <div class="search-container">
                <input type="text" class="search-input" id="cityInput" placeholder="Digite o nome da cidade..."
                    aria-label="Pesquisar cidade">
                <button class="btn" id="searchBtn" aria-label="Pesquisar">
                    Pesquisar
                </button>
                <button class="btn btn-icon" id="locationBtn" aria-label="Usar minha localiza√ß√£o"
                    title="Usar minha localiza√ß√£o">
                    üìçMe localize
                </button>
            </div>

            <!-- Units Selection Panel -->
            <div class="units-panel glass-card">
                <div class="unit-group">
                    <span class="unit-label">Temp:</span>
                    <div class="toggle-group" id="tempUnitToggle">
                        <button class="toggle-btn active" data-unit="C">¬∞C</button>
                        <button class="toggle-btn" data-unit="F">¬∞F</button>
                    </div>
                </div>
                <div class="unit-group">
                    <span class="unit-label">Press√£o:</span>
                    <select class="unit-select" id="pressureUnitSelect">
                        <option value="hPa">hPa</option>
                        <option value="atm">atm</option>
                        <option value="mbar">mbar</option>
                        <option value="mmhg">mmHg</option>
                        <option value="inhg">inHg</option>
                    </select>
                </div>
                <div class="unit-group">
                    <span class="unit-label">Vento:</span>
                    <select class="unit-select" id="windUnitSelect">
                        <option value="kmh">km/h</option>
                        <option value="ms">m/s</option>
                        <option value="mph">mph</option>
                        <option value="kn">kn</option>
                    </select>
                </div>
            </div>
        </section>

        <!-- Error Message -->
        <div class="error" id="errorMessage">
            <p class="error-message" id="errorText"></p>
        </div>

        <!-- Loading State -->
        <div class="loading" id="loadingState">
            <div class="spinner"></div>
            <p>Carregando dados do clima...</p>
        </div>

        <!-- Main Dashboard -->
        <main class="dashboard hidden" id="mainDashboard">
            <!-- Hero Weather Section -->
            <section class="dashboard-hero">
                <div class="hero-main">
                    <div class="hero-icon" id="heroIcon">‚òÄÔ∏è</div>
                    <div class="hero-temp-container">
                        <span class="hero-temp" id="heroTempValue">30¬∞C</span>
                        <div class="hero-details">
                            <span class="hero-description" id="heroDescription">C√©u Limpo</span>
                            <span class="hero-location" id="heroLocation">Pirassununga, BR</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Row 1: Summary -->
            <div class="dashboard-top">
                <section class="dashboard-card forecast-summary-card">
                    <div class="card-header">
                        <h3 class="card-title">üìÖ Previs√£o para 5 dias</h3>
                    </div>
                    <div class="forecast-list" id="forecastSummaryList">
                        <!-- Dynamic items -->
                    </div>
                    <button class="btn-text">Mais detalhes ‚ñ∏</button>
                </section>
            </div>

            <!-- Row 2: Detail Grid -->
            <div class="dashboard-grid">
                <!-- UV Card -->
                <section class="dashboard-card detail-card">
                    <div class="card-header">
                        <h3 class="card-title">UV</h3>
                    </div>
                    <div class="card-content">
                        <div class="main-value" id="uvLabel">Moderado</div>
                        <div class="gauge-container">
                            <svg viewBox="0 0 100 60" class="gauge">
                                <path class="gauge-bg" d="M 10 50 A 40 40 0 0 1 90 50" />
                                <path id="uvGauge" class="gauge-fill" d="M 10 50 A 40 40 0 0 1 90 50"
                                    stroke-dasharray="0, 1000" />
                            </svg>
                            <div class="gauge-value" id="uvIndex">5</div>
                        </div>
                    </div>
                </section>

                <!-- Humidity Card -->
                <section class="dashboard-card detail-card">
                    <div class="card-header">
                        <h3 class="card-title">Umidade</h3>
                    </div>
                    <div class="card-content">
                        <div class="main-value" id="humidity">65%</div>
                        <div class="gauge-container">
                            <svg viewBox="0 0 100 60" class="gauge">
                                <path class="gauge-bg" d="M 10 50 A 40 40 0 0 1 90 50" />
                                <path id="humidityGauge" class="gauge-fill" d="M 10 50 A 40 40 0 0 1 90 50"
                                    stroke-dasharray="0, 1000" />
                            </svg>
                            <div class="gauge-icon">üíß</div>
                        </div>
                    </div>
                </section>

                <!-- Feels Like Card -->
                <section class="dashboard-card detail-card">
                    <div class="card-header">
                        <h3 class="card-title">Sensa√ß√£o</h3>
                    </div>
                    <div class="card-content">
                        <div class="main-value" id="feelsLike">32¬∞</div>
                        <div class="gauge-container">
                            <svg viewBox="0 0 100 60" class="gauge">
                                <path class="gauge-bg" d="M 10 50 A 40 40 0 0 1 90 50" />
                                <path id="tempGauge" class="gauge-fill" d="M 10 50 A 40 40 0 0 1 90 50"
                                    stroke-dasharray="0, 1000" />
                            </svg>
                            <div class="gauge-center-icon">üå°Ô∏è</div>
                        </div>
                    </div>
                </section>

                <!-- Wind Card -->
                <section class="dashboard-card detail-card">
                    <div class="card-header">
                        <h3 class="card-title" id="windDirName">Noroeste</h3>
                    </div>
                    <div class="card-content">
                        <div class="main-value" id="windSpeed">7,4</div>
                        <div class="gauge-container">
                            <div class="compass">
                                <div class="compass-label n">N</div>
                                <div class="compass-label s">S</div>
                                <div class="compass-label e">E</div>
                                <div class="compass-label w">W</div>
                                <div class="compass-arrow" id="windArrow"></div>
                                <div class="compass-center">km/h</div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Sunrise Card -->
                <section class="dashboard-card detail-card">
                    <div class="card-header">
                        <h3 class="card-title" id="sunStatusLabel">P√¥r do Sol</h3>
                    </div>
                    <div class="card-content">
                        <div class="main-value" id="sunStatusTime">18:48</div>
                        <div class="sun-path-dashboard">
                            <svg viewBox="0 0 100 40" class="sun-svg">
                                <path class="sun-bg" d="M 5 35 Q 50 0 95 35" />
                                <path id="sunPathActive" class="sun-fill" d="M 5 35 Q 50 0 95 35"
                                    stroke-dasharray="0, 1000" />
                                <text x="50" y="8" class="sun-peak-label">12h</text>
                                <circle id="sunPoint" cx="5" cy="35" r="4" />
                                <text id="sunTimeLabel" x="5" y="30" class="sun-current-time-label"></text>
                            </svg>
                            <div class="sun-labels">
                                <span id="sunriseTime">06:00</span>
                                <span id="sunsetTime">18:48</span>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Pressure Card -->
                <section class="dashboard-card detail-card">
                    <div class="card-header">
                        <h3 class="card-title">Press√£o</h3>
                    </div>
                    <div class="card-content">
                        <div class="main-value" id="pressure">1,00</div>
                        <div class="gauge-container">
                            <svg viewBox="0 0 100 60" class="gauge">
                                <path class="gauge-bg" d="M 10 50 A 40 40 0 0 1 90 50" />
                                <path id="pressureGauge" class="gauge-fill" d="M 10 50 A 40 40 0 0 1 90 50"
                                    stroke-dasharray="0, 1000" />
                            </svg>
                            <div class="gauge-icon-unit" id="pressureUnit">atm</div>
                        </div>
                    </div>
                </section>
            </div>

            <!-- Full Width Chart -->
            <section class="dashboard-card chart-card-full">
                <div class="card-header">
                    <h3 class="card-title">Previs√£o Detalhada</h3>
                    <div class="chart-actions-dashboard">
                        <div class="range-controls-small">
                            <button class="range-btn active" data-range="24h">24h</button>
                            <button class="range-btn" data-range="5d">5d</button>
                        </div>
                        <div class="metric-controls-small">
                            <button class="layer-btn active" data-chart="temp" title="Temperatura">üå°Ô∏è</button>
                            <button class="layer-btn" data-chart="rain" title="Chuva">üåßÔ∏è</button>
                            <button class="layer-btn" data-chart="clouds" title="Nuvens">‚òÅÔ∏è</button>
                            <button class="layer-btn" data-chart="wind" title="Vento">üí®</button>
                        </div>
                    </div>
                </div>
                <div class="chart-wrapper">
                    <canvas id="weatherChart"></canvas>
                </div>
            </section>
        </main>

        <!-- Radar Map Section -->
        <section class="radar-section hidden" id="radarSection">
            <div class="radar-header">
                <h2 class="section-title">üó∫Ô∏è Radar do Clima</h2>
                <div class="layer-controls">
                    <button class="layer-btn active" data-layer="precipitation_new" title="Precipita√ß√£o">
                        üåßÔ∏è Chuva
                    </button>
                    <button class="layer-btn" data-layer="clouds_new" title="Nuvens">
                        ‚òÅÔ∏è Nuvens
                    </button>
                    <button class="layer-btn" data-layer="temp_new" title="Temperatura">
                        üå°Ô∏è Temp
                    </button>
                    <button class="layer-btn" data-layer="wind_new" title="Vento">
                        üí® Vento
                    </button>
                    <button class="layer-btn" data-layer="pressure_new" title="Press√£o">
                        üìä Press√£o
                    </button>

                </div>
            </div>
            <div id="radarMap" class="radar-map"></div>
        </section>

        <!-- Footer -->
        <footer class="footer glass-card">
            <p>Desenvolvido por <strong>LEANDRO MATHEUS BERCK</strong></p>
            <p class="contact-email">üìß <a href="mailto:leandromberck@gmail.com">leandromberck@gmail.com</a></p>
        </footer>
    </div>

    <!-- Leaflet JavaScript -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

    <!-- JavaScript -->
    <script src="script.js"></script>
</body>

</html>